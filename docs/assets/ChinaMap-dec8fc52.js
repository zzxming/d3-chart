import{d as Yt,r as jn,s as kt,o as Gt,u as $n,n as Ut,_ as v,a as Jt,c as Kt,w as Qt,b as xt,e as bt}from"./index-49308dbd.js";import{s as ni,_ as ti}from"./LoadingTip.vue_vue_type_script_setup_true_lang-23052702.js";import{z as ii}from"./zoom-ebf456f1.js";import{d as ei}from"./index-677af89f.js";const et=(n,t)=>{const e=n[t];return e?typeof e=="function"?e():Promise.resolve(e):new Promise((i,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})},ot=["安徽省","澳门特别行政区","北京市","重庆市","福建省","甘肃省","广东省","广西壮族自治区","贵州省","海南省","河北省","河南省","黑龙江省","湖北省","湖南省","吉林省","江苏省","江西省","辽宁省","内蒙古自治区","宁夏回族自治区","青海省","山东省","山西省","陕西省","上海市","四川省","台湾省","天津市","西藏自治区","香港特别行政区","新疆维吾尔自治区","云南省","浙江省"];class nn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let i=0;for(let o=0;o<this._n&&o<32;o++){const u=e[o],l=t+u,s=Math.abs(t)<Math.abs(u)?t-(l-u):u-(l-t);s&&(e[i++]=s),t=l}return e[i]=t,this._n=i+1,this}valueOf(){const t=this._partials;let e=this._n,i,o,u,l=0;if(e>0){for(l=t[--e];e>0&&(i=l,o=t[--e],l=i+o,u=o-(l-i),!u););e>0&&(u<0&&t[e-1]<0||u>0&&t[e-1]>0)&&(o=u*2,i=l+o,o==i-l&&(l=i))}return l}}function*oi(n){for(const t of n)yield*t}function At(n){return Array.from(oi(n))}var y=1e-6,ri=1e-12,T=Math.PI,Z=T/2,rt=T/4,X=T*2,W=180/T,F=T/180,N=Math.abs,Dt=Math.atan,dn=Math.atan2,z=Math.cos,ai=Math.exp,si=Math.log,C=Math.sin,ui=Math.sign||function(n){return n>0?1:n<0?-1:0},en=Math.sqrt,li=Math.tan;function ci(n){return n>1?0:n<-1?T:Math.acos(n)}function vn(n){return n>1?Z:n<-1?-Z:Math.asin(n)}function k(){}function Sn(n,t){n&&st.hasOwnProperty(n.type)&&st[n.type](n,t)}var at={Feature:function(n,t){Sn(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,i=-1,o=e.length;++i<o;)Sn(e[i].geometry,t)}},st={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,i=-1,o=e.length;++i<o;)n=e[i],t.point(n[0],n[1],n[2])},LineString:function(n,t){Bn(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,i=-1,o=e.length;++i<o;)Bn(e[i],t,0)},Polygon:function(n,t){ut(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,i=-1,o=e.length;++i<o;)ut(e[i],t)},GeometryCollection:function(n,t){for(var e=n.geometries,i=-1,o=e.length;++i<o;)Sn(e[i],t)}};function Bn(n,t,e){var i=-1,o=n.length-e,u;for(t.lineStart();++i<o;)u=n[i],t.point(u[0],u[1],u[2]);t.lineEnd()}function ut(n,t){var e=-1,i=n.length;for(t.polygonStart();++e<i;)Bn(n[e],t,1);t.polygonEnd()}function rn(n,t){n&&at.hasOwnProperty(n.type)?at[n.type](n,t):Sn(n,t)}function qn(n){return[dn(n[1],n[0]),vn(n[2])]}function sn(n){var t=n[0],e=n[1],i=z(e);return[i*z(t),i*C(t),C(e)]}function mn(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function In(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Nn(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function Mn(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function Hn(n){var t=en(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function Zn(n,t){function e(i,o){return i=n(i,o),t(i[0],i[1])}return n.invert&&t.invert&&(e.invert=function(i,o){return i=t.invert(i,o),i&&n.invert(i[0],i[1])}),e}function Wn(n,t){return N(n)>T&&(n-=Math.round(n/X)*X),[n,t]}Wn.invert=Wn;function Lt(n,t,e){return(n%=X)?t||e?Zn(ct(n),ft(t,e)):ct(n):t||e?ft(t,e):Wn}function lt(n){return function(t,e){return t+=n,N(t)>T&&(t-=Math.round(t/X)*X),[t,e]}}function ct(n){var t=lt(n);return t.invert=lt(-n),t}function ft(n,t){var e=z(n),i=C(n),o=z(t),u=C(t);function l(s,d){var p=z(d),r=z(s)*p,a=C(s)*p,c=C(d),_=c*e+r*i;return[dn(a*o-_*u,r*e-c*i),vn(_*o+a*u)]}return l.invert=function(s,d){var p=z(d),r=z(s)*p,a=C(s)*p,c=C(d),_=c*o-a*u;return[dn(a*o+c*u,r*e+_*i),vn(_*e-r*i)]},l}function fi(n){n=Lt(n[0]*F,n[1]*F,n.length>2?n[2]*F:0);function t(e){return e=n(e[0]*F,e[1]*F),e[0]*=W,e[1]*=W,e}return t.invert=function(e){return e=n.invert(e[0]*F,e[1]*F),e[0]*=W,e[1]*=W,e},t}function pi(n,t,e,i,o,u){if(e){var l=z(t),s=C(t),d=i*e;o==null?(o=t+i*X,u=t-d/2):(o=pt(l,o),u=pt(l,u),(i>0?o<u:o>u)&&(o+=i*X));for(var p,r=o;i>0?r>u:r<u;r-=d)p=qn([l,-s*z(r),-s*C(r)]),n.point(p[0],p[1])}}function pt(n,t){t=sn(t),t[0]-=n,Hn(t);var e=ci(-t[1]);return((-t[2]<0?-e:e)+X-y)%X}function Tt(){var n=[],t;return{point:function(e,i,o){t.push([e,i,o])},lineStart:function(){n.push(t=[])},lineEnd:k,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function wn(n,t){return N(n[0]-t[0])<y&&N(n[1]-t[1])<y}function Pn(n,t,e,i){this.x=n,this.z=t,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function Ot(n,t,e,i,o){var u=[],l=[],s,d;if(n.forEach(function(h){if(!((m=h.length-1)<=0)){var m,E=h[0],I=h[m],j;if(wn(E,I)){if(!E[2]&&!I[2]){for(o.lineStart(),s=0;s<m;++s)o.point((E=h[s])[0],E[1]);o.lineEnd();return}I[0]+=2*y}u.push(j=new Pn(E,h,null,!0)),l.push(j.o=new Pn(E,null,j,!1)),u.push(j=new Pn(I,h,null,!1)),l.push(j.o=new Pn(I,null,j,!0))}}),!!u.length){for(l.sort(t),_t(u),_t(l),s=0,d=l.length;s<d;++s)l[s].e=e=!e;for(var p=u[0],r,a;;){for(var c=p,_=!0;c.v;)if((c=c.n)===p)return;r=c.z,o.lineStart();do{if(c.v=c.o.v=!0,c.e){if(_)for(s=0,d=r.length;s<d;++s)o.point((a=r[s])[0],a[1]);else i(c.x,c.n.x,1,o);c=c.n}else{if(_)for(r=c.p.z,s=r.length-1;s>=0;--s)o.point((a=r[s])[0],a[1]);else i(c.x,c.p.x,-1,o);c=c.p}c=c.o,r=c.z,_=!_}while(!c.v);o.lineEnd()}}}function _t(n){if(t=n.length){for(var t,e=0,i=n[0],o;++e<t;)i.n=o=n[e],o.p=i,i=o;i.n=o=n[0],o.p=i}}function zn(n){return N(n[0])<=T?n[0]:ui(n[0])*((N(n[0])+T)%X-T)}function _i(n,t){var e=zn(t),i=t[1],o=C(i),u=[C(e),-z(e),0],l=0,s=0,d=new nn;o===1?i=Z+y:o===-1&&(i=-Z-y);for(var p=0,r=n.length;p<r;++p)if(c=(a=n[p]).length)for(var a,c,_=a[c-1],h=zn(_),m=_[1]/2+rt,E=C(m),I=z(m),j=0;j<c;++j,h=g,E=w,I=O,_=P){var P=a[j],g=zn(P),R=P[1]/2+rt,w=C(R),O=z(R),L=g-h,A=L>=0?1:-1,S=A*L,M=S>T,q=E*w;if(d.add(dn(q*A*C(S),I*O+q*z(S))),l+=M?L+A*X:L,M^h>=e^g>=e){var $=In(sn(_),sn(P));Hn($);var V=In(u,$);Hn(V);var f=(M^L>=0?-1:1)*vn(V[2]);(i>f||i===f&&($[0]||$[1]))&&(s+=M^L>=0?1:-1)}}return(l<-y||l<y&&d<-ri)^s&1}function Vt(n,t,e,i){return function(o){var u=t(o),l=Tt(),s=t(l),d=!1,p,r,a,c={point:_,lineStart:m,lineEnd:E,polygonStart:function(){c.point=I,c.lineStart=j,c.lineEnd=P,r=[],p=[]},polygonEnd:function(){c.point=_,c.lineStart=m,c.lineEnd=E,r=At(r);var g=_i(p,i);r.length?(d||(o.polygonStart(),d=!0),Ot(r,di,g,e,o)):g&&(d||(o.polygonStart(),d=!0),o.lineStart(),e(null,null,1,o),o.lineEnd()),d&&(o.polygonEnd(),d=!1),r=p=null},sphere:function(){o.polygonStart(),o.lineStart(),e(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function _(g,R){n(g,R)&&o.point(g,R)}function h(g,R){u.point(g,R)}function m(){c.point=h,u.lineStart()}function E(){c.point=_,u.lineEnd()}function I(g,R){a.push([g,R]),s.point(g,R)}function j(){s.lineStart(),a=[]}function P(){I(a[0][0],a[0][1]),s.lineEnd();var g=s.clean(),R=l.result(),w,O=R.length,L,A,S;if(a.pop(),p.push(a),a=null,!!O){if(g&1){if(A=R[0],(L=A.length-1)>0){for(d||(o.polygonStart(),d=!0),o.lineStart(),w=0;w<L;++w)o.point((S=A[w])[0],S[1]);o.lineEnd()}return}O>1&&g&2&&R.push(R.pop().concat(R.shift())),r.push(R.filter(hi))}}return c}}function hi(n){return n.length>1}function di(n,t){return((n=n.x)[0]<0?n[1]-Z-y:Z-n[1])-((t=t.x)[0]<0?t[1]-Z-y:Z-t[1])}const ht=Vt(function(){return!0},vi,gi,[-T,-Z]);function vi(n){var t=NaN,e=NaN,i=NaN,o;return{lineStart:function(){n.lineStart(),o=1},point:function(u,l){var s=u>0?T:-T,d=N(u-t);N(d-T)<y?(n.point(t,e=(e+l)/2>0?Z:-Z),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(s,e),n.point(u,e),o=0):i!==s&&d>=T&&(N(t-i)<y&&(t-=i*y),N(u-s)<y&&(u-=s*y),e=Ei(t,e,u,l),n.point(i,e),n.lineEnd(),n.lineStart(),n.point(s,e),o=0),n.point(t=u,e=l),i=s},lineEnd:function(){n.lineEnd(),t=e=NaN},clean:function(){return 2-o}}}function Ei(n,t,e,i){var o,u,l=C(n-e);return N(l)>y?Dt((C(t)*(u=z(i))*C(e)-C(i)*(o=z(t))*C(n))/(o*u*l)):(t+i)/2}function gi(n,t,e,i){var o;if(n==null)o=e*Z,i.point(-T,o),i.point(0,o),i.point(T,o),i.point(T,0),i.point(T,-o),i.point(0,-o),i.point(-T,-o),i.point(-T,0),i.point(-T,o);else if(N(n[0]-t[0])>y){var u=n[0]<t[0]?T:-T;o=e*u/2,i.point(-u,o),i.point(0,o),i.point(u,o)}else i.point(t[0],t[1])}function ji(n){var t=z(n),e=6*F,i=t>0,o=N(t)>y;function u(r,a,c,_){pi(_,n,e,c,r,a)}function l(r,a){return z(r)*z(a)>t}function s(r){var a,c,_,h,m;return{lineStart:function(){h=_=!1,m=1},point:function(E,I){var j=[E,I],P,g=l(E,I),R=i?g?0:p(E,I):g?p(E+(E<0?T:-T),I):0;if(!a&&(h=_=g)&&r.lineStart(),g!==_&&(P=d(a,j),(!P||wn(a,P)||wn(j,P))&&(j[2]=1)),g!==_)m=0,g?(r.lineStart(),P=d(j,a),r.point(P[0],P[1])):(P=d(a,j),r.point(P[0],P[1],2),r.lineEnd()),a=P;else if(o&&a&&i^g){var w;!(R&c)&&(w=d(j,a,!0))&&(m=0,i?(r.lineStart(),r.point(w[0][0],w[0][1]),r.point(w[1][0],w[1][1]),r.lineEnd()):(r.point(w[1][0],w[1][1]),r.lineEnd(),r.lineStart(),r.point(w[0][0],w[0][1],3)))}g&&(!a||!wn(a,j))&&r.point(j[0],j[1]),a=j,_=g,c=R},lineEnd:function(){_&&r.lineEnd(),a=null},clean:function(){return m|(h&&_)<<1}}}function d(r,a,c){var _=sn(r),h=sn(a),m=[1,0,0],E=In(_,h),I=mn(E,E),j=E[0],P=I-j*j;if(!P)return!c&&r;var g=t*I/P,R=-t*j/P,w=In(m,E),O=Mn(m,g),L=Mn(E,R);Nn(O,L);var A=w,S=mn(O,A),M=mn(A,A),q=S*S-M*(mn(O,O)-1);if(!(q<0)){var $=en(q),V=Mn(A,(-S-$)/M);if(Nn(V,O),V=qn(V),!c)return V;var f=r[0],D=a[0],B=r[1],H=a[1],Y;D<f&&(Y=f,f=D,D=Y);var ln=D-f,K=N(ln-T)<y,b=K||ln<y;if(!K&&H<B&&(Y=B,B=H,H=Y),b?K?B+H>0^V[1]<(N(V[0]-f)<y?B:H):B<=V[1]&&V[1]<=H:ln>T^(f<=V[0]&&V[0]<=D)){var Q=Mn(A,(-S+$)/M);return Nn(Q,O),[V,qn(Q)]}}}function p(r,a){var c=i?n:T-n,_=0;return r<-c?_|=1:r>c&&(_|=2),a<-c?_|=4:a>c&&(_|=8),_}return Vt(l,s,u,i?[0,-n]:[-T,n-T])}function mi(n,t,e,i,o,u){var l=n[0],s=n[1],d=t[0],p=t[1],r=0,a=1,c=d-l,_=p-s,h;if(h=e-l,!(!c&&h>0)){if(h/=c,c<0){if(h<r)return;h<a&&(a=h)}else if(c>0){if(h>a)return;h>r&&(r=h)}if(h=o-l,!(!c&&h<0)){if(h/=c,c<0){if(h>a)return;h>r&&(r=h)}else if(c>0){if(h<r)return;h<a&&(a=h)}if(h=i-s,!(!_&&h>0)){if(h/=_,_<0){if(h<r)return;h<a&&(a=h)}else if(_>0){if(h>a)return;h>r&&(r=h)}if(h=u-s,!(!_&&h<0)){if(h/=_,_<0){if(h>a)return;h>r&&(r=h)}else if(_>0){if(h<r)return;h<a&&(a=h)}return r>0&&(n[0]=l+r*c,n[1]=s+r*_),a<1&&(t[0]=l+a*c,t[1]=s+a*_),!0}}}}}var cn=1e9,Rn=-cn;function Mi(n,t,e,i){function o(p,r){return n<=p&&p<=e&&t<=r&&r<=i}function u(p,r,a,c){var _=0,h=0;if(p==null||(_=l(p,a))!==(h=l(r,a))||d(p,r)<0^a>0)do c.point(_===0||_===3?n:e,_>1?i:t);while((_=(_+a+4)%4)!==h);else c.point(r[0],r[1])}function l(p,r){return N(p[0]-n)<y?r>0?0:3:N(p[0]-e)<y?r>0?2:1:N(p[1]-t)<y?r>0?1:0:r>0?3:2}function s(p,r){return d(p.x,r.x)}function d(p,r){var a=l(p,1),c=l(r,1);return a!==c?a-c:a===0?r[1]-p[1]:a===1?p[0]-r[0]:a===2?p[1]-r[1]:r[0]-p[0]}return function(p){var r=p,a=Tt(),c,_,h,m,E,I,j,P,g,R,w,O={point:L,lineStart:q,lineEnd:$,polygonStart:S,polygonEnd:M};function L(f,D){o(f,D)&&r.point(f,D)}function A(){for(var f=0,D=0,B=_.length;D<B;++D)for(var H=_[D],Y=1,ln=H.length,K=H[0],b,Q,gn=K[0],on=K[1];Y<ln;++Y)b=gn,Q=on,K=H[Y],gn=K[0],on=K[1],Q<=i?on>i&&(gn-b)*(i-Q)>(on-Q)*(n-b)&&++f:on<=i&&(gn-b)*(i-Q)<(on-Q)*(n-b)&&--f;return f}function S(){r=a,c=[],_=[],w=!0}function M(){var f=A(),D=w&&f,B=(c=At(c)).length;(D||B)&&(p.polygonStart(),D&&(p.lineStart(),u(null,null,1,p),p.lineEnd()),B&&Ot(c,s,f,u,p),p.polygonEnd()),r=p,c=_=h=null}function q(){O.point=V,_&&_.push(h=[]),R=!0,g=!1,j=P=NaN}function $(){c&&(V(m,E),I&&g&&a.rejoin(),c.push(a.result())),O.point=L,g&&r.lineEnd()}function V(f,D){var B=o(f,D);if(_&&h.push([f,D]),R)m=f,E=D,I=B,R=!1,B&&(r.lineStart(),r.point(f,D));else if(B&&g)r.point(f,D);else{var H=[j=Math.max(Rn,Math.min(cn,j)),P=Math.max(Rn,Math.min(cn,P))],Y=[f=Math.max(Rn,Math.min(cn,f)),D=Math.max(Rn,Math.min(cn,D))];mi(H,Y,n,t,e,i)?(g||(r.lineStart(),r.point(H[0],H[1])),r.point(Y[0],Y[1]),B||r.lineEnd(),w=!1):B&&(r.lineStart(),r.point(f,D),w=!1)}j=f,P=D,g=B}return O}}const Xn=n=>n;var Cn=new nn,Yn=new nn,yt,$t,kn,Gn,x={point:k,lineStart:k,lineEnd:k,polygonStart:function(){x.lineStart=Pi,x.lineEnd=wi},polygonEnd:function(){x.lineStart=x.lineEnd=x.point=k,Cn.add(N(Yn)),Yn=new nn},result:function(){var n=Cn/2;return Cn=new nn,n}};function Pi(){x.point=Ri}function Ri(n,t){x.point=Nt,yt=kn=n,$t=Gn=t}function Nt(n,t){Yn.add(Gn*n-kn*t),kn=n,Gn=t}function wi(){Nt(yt,$t)}const dt=x;var un=1/0,An=un,En=-un,Dn=En,Si={point:Ii,lineStart:k,lineEnd:k,polygonStart:k,polygonEnd:k,result:function(){var n=[[un,An],[En,Dn]];return En=Dn=-(An=un=1/0),n}};function Ii(n,t){n<un&&(un=n),n>En&&(En=n),t<An&&(An=t),t>Dn&&(Dn=t)}const Ln=Si;var Un=0,Jn=0,fn=0,Tn=0,On=0,an=0,Kn=0,Qn=0,pn=0,zt,Ct,U,J,G={point:tn,lineStart:vt,lineEnd:Et,polygonStart:function(){G.lineStart=Li,G.lineEnd=Ti},polygonEnd:function(){G.point=tn,G.lineStart=vt,G.lineEnd=Et},result:function(){var n=pn?[Kn/pn,Qn/pn]:an?[Tn/an,On/an]:fn?[Un/fn,Jn/fn]:[NaN,NaN];return Un=Jn=fn=Tn=On=an=Kn=Qn=pn=0,n}};function tn(n,t){Un+=n,Jn+=t,++fn}function vt(){G.point=Ai}function Ai(n,t){G.point=Di,tn(U=n,J=t)}function Di(n,t){var e=n-U,i=t-J,o=en(e*e+i*i);Tn+=o*(U+n)/2,On+=o*(J+t)/2,an+=o,tn(U=n,J=t)}function Et(){G.point=tn}function Li(){G.point=Oi}function Ti(){Ft(zt,Ct)}function Oi(n,t){G.point=Ft,tn(zt=U=n,Ct=J=t)}function Ft(n,t){var e=n-U,i=t-J,o=en(e*e+i*i);Tn+=o*(U+n)/2,On+=o*(J+t)/2,an+=o,o=J*n-U*t,Kn+=o*(U+n),Qn+=o*(J+t),pn+=o*3,tn(U=n,J=t)}const gt=G;function Bt(n){this._context=n}Bt.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:{this._context.moveTo(n,t),this._point=1;break}case 1:{this._context.lineTo(n,t);break}default:{this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,X);break}}},result:k};var xn=new nn,Fn,qt,Ht,_n,hn,Vn={point:k,lineStart:function(){Vn.point=Vi},lineEnd:function(){Fn&&Zt(qt,Ht),Vn.point=k},polygonStart:function(){Fn=!0},polygonEnd:function(){Fn=null},result:function(){var n=+xn;return xn=new nn,n}};function Vi(n,t){Vn.point=Zt,qt=_n=n,Ht=hn=t}function Zt(n,t){_n-=n,hn-=t,xn.add(en(_n*_n+hn*hn)),_n=n,hn=t}const jt=Vn;let mt,yn,Mt,Pt;class Rt{constructor(t){this._append=t==null?Wt:yi(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==Mt||this._append!==yn){const i=this._radius,o=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Mt=i,yn=this._append,Pt=this._,this._=o}this._+=Pt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Wt(n){let t=1;this._+=n[0];for(const e=n.length;t<e;++t)this._+=arguments[t]+n[t]}function yi(n){const t=Math.floor(n);if(!(t>=0))throw new RangeError(`invalid digits: ${n}`);if(t>15)return Wt;if(t!==mt){const e=10**t;mt=t,yn=function(o){let u=1;this._+=o[0];for(const l=o.length;u<l;++u)this._+=Math.round(arguments[u]*e)/e+o[u]}}return yn}function $i(n,t){let e=3,i=4.5,o,u;function l(s){return s&&(typeof i=="function"&&u.pointRadius(+i.apply(this,arguments)),rn(s,o(u))),u.result()}return l.area=function(s){return rn(s,o(dt)),dt.result()},l.measure=function(s){return rn(s,o(jt)),jt.result()},l.bounds=function(s){return rn(s,o(Ln)),Ln.result()},l.centroid=function(s){return rn(s,o(gt)),gt.result()},l.projection=function(s){return arguments.length?(o=s==null?(n=null,Xn):(n=s).stream,l):n},l.context=function(s){return arguments.length?(u=s==null?(t=null,new Rt(e)):new Bt(t=s),typeof i!="function"&&u.pointRadius(i),l):t},l.pointRadius=function(s){return arguments.length?(i=typeof s=="function"?s:(u.pointRadius(+s),+s),l):i},l.digits=function(s){if(!arguments.length)return e;if(s==null)e=null;else{const d=Math.floor(s);if(!(d>=0))throw new RangeError(`invalid digits: ${s}`);e=d}return t===null&&(u=new Rt(e)),l},l.projection(n).digits(e).context(t)}function nt(n){return function(t){var e=new bn;for(var i in n)e[i]=n[i];return e.stream=t,e}}function bn(){}bn.prototype={constructor:bn,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function tt(n,t,e){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),rn(e,n.stream(Ln)),t(Ln.result()),i!=null&&n.clipExtent(i),n}function Xt(n,t,e){return tt(n,function(i){var o=t[1][0]-t[0][0],u=t[1][1]-t[0][1],l=Math.min(o/(i[1][0]-i[0][0]),u/(i[1][1]-i[0][1])),s=+t[0][0]+(o-l*(i[1][0]+i[0][0]))/2,d=+t[0][1]+(u-l*(i[1][1]+i[0][1]))/2;n.scale(150*l).translate([s,d])},e)}function Ni(n,t,e){return Xt(n,[[0,0],t],e)}function zi(n,t,e){return tt(n,function(i){var o=+t,u=o/(i[1][0]-i[0][0]),l=(o-u*(i[1][0]+i[0][0]))/2,s=-u*i[0][1];n.scale(150*u).translate([l,s])},e)}function Ci(n,t,e){return tt(n,function(i){var o=+t,u=o/(i[1][1]-i[0][1]),l=-u*i[0][0],s=(o-u*(i[1][1]+i[0][1]))/2;n.scale(150*u).translate([l,s])},e)}var wt=16,Fi=z(30*F);function St(n,t){return+t?qi(n,t):Bi(n)}function Bi(n){return nt({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}})}function qi(n,t){function e(i,o,u,l,s,d,p,r,a,c,_,h,m,E){var I=p-i,j=r-o,P=I*I+j*j;if(P>4*t&&m--){var g=l+c,R=s+_,w=d+h,O=en(g*g+R*R+w*w),L=vn(w/=O),A=N(N(w)-1)<y||N(u-a)<y?(u+a)/2:dn(R,g),S=n(A,L),M=S[0],q=S[1],$=M-i,V=q-o,f=j*$-I*V;(f*f/P>t||N((I*$+j*V)/P-.5)>.3||l*c+s*_+d*h<Fi)&&(e(i,o,u,l,s,d,M,q,A,g/=O,R/=O,w,m,E),E.point(M,q),e(M,q,A,g,R,w,p,r,a,c,_,h,m,E))}}return function(i){var o,u,l,s,d,p,r,a,c,_,h,m,E={point:I,lineStart:j,lineEnd:g,polygonStart:function(){i.polygonStart(),E.lineStart=R},polygonEnd:function(){i.polygonEnd(),E.lineStart=j}};function I(L,A){L=n(L,A),i.point(L[0],L[1])}function j(){a=NaN,E.point=P,i.lineStart()}function P(L,A){var S=sn([L,A]),M=n(L,A);e(a,c,r,_,h,m,a=M[0],c=M[1],r=L,_=S[0],h=S[1],m=S[2],wt,i),i.point(a,c)}function g(){E.point=I,i.lineEnd()}function R(){j(),E.point=w,E.lineEnd=O}function w(L,A){P(o=L,A),u=a,l=c,s=_,d=h,p=m,E.point=P}function O(){e(a,c,r,_,h,m,u,l,o,s,d,p,wt,i),E.lineEnd=g,g()}return E}}var Hi=nt({point:function(n,t){this.stream.point(n*F,t*F)}});function Zi(n){return nt({point:function(t,e){var i=n(t,e);return this.stream.point(i[0],i[1])}})}function Wi(n,t,e,i,o){function u(l,s){return l*=i,s*=o,[t+n*l,e-n*s]}return u.invert=function(l,s){return[(l-t)/n*i,(e-s)/n*o]},u}function It(n,t,e,i,o,u){if(!u)return Wi(n,t,e,i,o);var l=z(u),s=C(u),d=l*n,p=s*n,r=l/n,a=s/n,c=(s*e-l*t)/n,_=(s*t+l*e)/n;function h(m,E){return m*=i,E*=o,[d*m-p*E+t,e-p*m-d*E]}return h.invert=function(m,E){return[i*(r*m-a*E+c),o*(_-a*m-r*E)]},h}function Xi(n){return Yi(function(){return n})()}function Yi(n){var t,e=150,i=480,o=250,u=0,l=0,s=0,d=0,p=0,r,a=0,c=1,_=1,h=null,m=ht,E=null,I,j,P,g=Xn,R=.5,w,O,L,A,S;function M(f){return L(f[0]*F,f[1]*F)}function q(f){return f=L.invert(f[0],f[1]),f&&[f[0]*W,f[1]*W]}M.stream=function(f){return A&&S===f?A:A=Hi(Zi(r)(m(w(g(S=f)))))},M.preclip=function(f){return arguments.length?(m=f,h=void 0,V()):m},M.postclip=function(f){return arguments.length?(g=f,E=I=j=P=null,V()):g},M.clipAngle=function(f){return arguments.length?(m=+f?ji(h=f*F):(h=null,ht),V()):h*W},M.clipExtent=function(f){return arguments.length?(g=f==null?(E=I=j=P=null,Xn):Mi(E=+f[0][0],I=+f[0][1],j=+f[1][0],P=+f[1][1]),V()):E==null?null:[[E,I],[j,P]]},M.scale=function(f){return arguments.length?(e=+f,$()):e},M.translate=function(f){return arguments.length?(i=+f[0],o=+f[1],$()):[i,o]},M.center=function(f){return arguments.length?(u=f[0]%360*F,l=f[1]%360*F,$()):[u*W,l*W]},M.rotate=function(f){return arguments.length?(s=f[0]%360*F,d=f[1]%360*F,p=f.length>2?f[2]%360*F:0,$()):[s*W,d*W,p*W]},M.angle=function(f){return arguments.length?(a=f%360*F,$()):a*W},M.reflectX=function(f){return arguments.length?(c=f?-1:1,$()):c<0},M.reflectY=function(f){return arguments.length?(_=f?-1:1,$()):_<0},M.precision=function(f){return arguments.length?(w=St(O,R=f*f),V()):en(R)},M.fitExtent=function(f,D){return Xt(M,f,D)},M.fitSize=function(f,D){return Ni(M,f,D)},M.fitWidth=function(f,D){return zi(M,f,D)},M.fitHeight=function(f,D){return Ci(M,f,D)};function $(){var f=It(e,0,0,c,_,a).apply(null,t(u,l)),D=It(e,i-f[0],o-f[1],c,_,a);return r=Lt(s,d,p),O=Zn(t,D),L=Zn(r,O),w=St(O,R),V()}function V(){return A=S=null,M}return function(){return t=n.apply(this,arguments),M.invert=t.invert&&q,$()}}function it(n,t){return[n,si(li((Z+t)/2))]}it.invert=function(n,t){return[n,2*Dt(ai(t))-Z]};function ki(){return Gi(it).scale(961/X)}function Gi(n){var t=Xi(n),e=t.center,i=t.scale,o=t.translate,u=t.clipExtent,l=null,s,d,p;t.scale=function(a){return arguments.length?(i(a),r()):i()},t.translate=function(a){return arguments.length?(o(a),r()):o()},t.center=function(a){return arguments.length?(e(a),r()):e()},t.clipExtent=function(a){return arguments.length?(a==null?l=s=d=p=null:(l=+a[0][0],s=+a[0][1],d=+a[1][0],p=+a[1][1]),r()):l==null?null:[[l,s],[d,p]]};function r(){var a=T*i(),c=t(fi(t.rotate()).invert([0,0]));return u(l==null?[[c[0]-a,c[1]-a],[c[0]+a,c[1]+a]]:n===it?[[Math.max(c[0]-a,l),s],[Math.min(c[0]+a,d),p]]:[[l,Math.max(c[1]-a,s)],[d,Math.min(c[1]+a,p)]])}return r()}const xi=Yt({__name:"ChinaMap",setup(n){const t=jn();let e=jn(!1),i=jn(!0),o=kt([]),u=jn(ei().attr("class","d3_tip").offset([0,10]).html(d=>{var p;return`<span class="d3_tip-name">${((p=d.properties)==null?void 0:p.name)??"没有名字"}</span>`})),l=async()=>{e.value=!1,i.value=!0;let d=[];for(let r=0;r<ot.length;r++){let a=et(Object.assign({"../assets/d3json/chinaMap/wrap/上海市.json":()=>v(()=>import("./上海市-98240db0.js"),[]),"../assets/d3json/chinaMap/wrap/云南省.json":()=>v(()=>import("./云南省-5f319719.js"),[]),"../assets/d3json/chinaMap/wrap/内蒙古自治区.json":()=>v(()=>import("./内蒙古自治区-72513acc.js"),[]),"../assets/d3json/chinaMap/wrap/北京市.json":()=>v(()=>import("./北京市-e28cdaa9.js"),[]),"../assets/d3json/chinaMap/wrap/台湾省.json":()=>v(()=>import("./台湾省-f5edcaa4.js"),[]),"../assets/d3json/chinaMap/wrap/吉林省.json":()=>v(()=>import("./吉林省-5f42022a.js"),[]),"../assets/d3json/chinaMap/wrap/四川省.json":()=>v(()=>import("./四川省-ab401948.js"),[]),"../assets/d3json/chinaMap/wrap/天津市.json":()=>v(()=>import("./天津市-80a500ce.js"),[]),"../assets/d3json/chinaMap/wrap/宁夏回族自治区.json":()=>v(()=>import("./宁夏回族自治区-7667c5f5.js"),[]),"../assets/d3json/chinaMap/wrap/安徽省.json":()=>v(()=>import("./安徽省-3f4166bb.js"),[]),"../assets/d3json/chinaMap/wrap/山东省.json":()=>v(()=>import("./山东省-cc32fe72.js"),[]),"../assets/d3json/chinaMap/wrap/山西省.json":()=>v(()=>import("./山西省-7a6d3677.js"),[]),"../assets/d3json/chinaMap/wrap/广东省.json":()=>v(()=>import("./广东省-5fdb24fa.js"),[]),"../assets/d3json/chinaMap/wrap/广西壮族自治区.json":()=>v(()=>import("./广西壮族自治区-b38050e6.js"),[]),"../assets/d3json/chinaMap/wrap/新疆维吾尔自治区.json":()=>v(()=>import("./新疆维吾尔自治区-bee37718.js"),[]),"../assets/d3json/chinaMap/wrap/江苏省.json":()=>v(()=>import("./江苏省-8b3d1143.js"),[]),"../assets/d3json/chinaMap/wrap/江西省.json":()=>v(()=>import("./江西省-0214ad10.js"),[]),"../assets/d3json/chinaMap/wrap/河北省.json":()=>v(()=>import("./河北省-f420012a.js"),[]),"../assets/d3json/chinaMap/wrap/河南省.json":()=>v(()=>import("./河南省-faf4ca59.js"),[]),"../assets/d3json/chinaMap/wrap/浙江省.json":()=>v(()=>import("./浙江省-0429b2e6.js"),[]),"../assets/d3json/chinaMap/wrap/海南省.json":()=>v(()=>import("./海南省-822e8b19.js"),[]),"../assets/d3json/chinaMap/wrap/湖北省.json":()=>v(()=>import("./湖北省-4882f2c0.js"),[]),"../assets/d3json/chinaMap/wrap/湖南省.json":()=>v(()=>import("./湖南省-e76ebe07.js"),[]),"../assets/d3json/chinaMap/wrap/澳门特别行政区.json":()=>v(()=>import("./澳门特别行政区-3591af53.js"),[]),"../assets/d3json/chinaMap/wrap/甘肃省.json":()=>v(()=>import("./甘肃省-5c2ed72f.js"),[]),"../assets/d3json/chinaMap/wrap/福建省.json":()=>v(()=>import("./福建省-5e6cec84.js"),[]),"../assets/d3json/chinaMap/wrap/西藏自治区.json":()=>v(()=>import("./西藏自治区-fdb0ac8f.js"),[]),"../assets/d3json/chinaMap/wrap/贵州省.json":()=>v(()=>import("./贵州省-a203e15a.js"),[]),"../assets/d3json/chinaMap/wrap/辽宁省.json":()=>v(()=>import("./辽宁省-720a1c92.js"),[]),"../assets/d3json/chinaMap/wrap/重庆市.json":()=>v(()=>import("./重庆市-6774ce47.js"),[]),"../assets/d3json/chinaMap/wrap/陕西省.json":()=>v(()=>import("./陕西省-77fea368.js"),[]),"../assets/d3json/chinaMap/wrap/青海省.json":()=>v(()=>import("./青海省-2595a689.js"),[]),"../assets/d3json/chinaMap/wrap/香港特别行政区.json":()=>v(()=>import("./香港特别行政区-ea0038d8.js"),[]),"../assets/d3json/chinaMap/wrap/黑龙江省.json":()=>v(()=>import("./黑龙江省-c4ca7500.js"),[])}),`../assets/d3json/chinaMap/wrap/${ot[r]}.json`);d.push(a)}let p=await Promise.all(d).then(r=>r.map(a=>a.default)).catch(r=>{console.log(r),e.value=!0});i.value=!1,p&&(o.value=p.map(r=>r.features[0]))},s=(d,p)=>{if(o.value.length<1)return console.log("原始数据依赖不存在, 无法获取新数据"),[];let r=[...o.value],a=r.findIndex(c=>{var _;return((_=c.properties)==null?void 0:_.adcode)===d});return r.splice(a,1,...p.features),r};return Gt(async()=>{if(await l(),!o.value)return;let d={type:"FeatureCollection",features:$n(o.value)};await Ut();const{innerWidth:p,innerHeight:r}=window,a={top:40,right:20,bottom:40,left:40};let c=.6,_=1,h=20,m=ni(t.value).append("svg").attr("viewBox",[0,0,p-a.left-a.right,r-a.top-a.bottom]).attr("stroke","#c86a7a").attr("stroke-width",c),E=ki().center([105,38]).scale(Math.min(p,r)).translate([p/2,r/2]),I=$i().projection(E),j=m.append("g");j.selectAll("path").data(d.features).enter().append("path").attr("fill","#fcf9f2").attr("d",I).on("mouseenter",w).on("mouseleave",O).on("click",L);let P=A=>{const S=A.transform;j.attr("transform",`translate(${S.x}, ${S.y}) scale(${S.k})`),j.selectAll("circle").attr("r",2/S.k),m.attr("stroke-width",c/S.k)},g=ii().scaleExtent([_,h]).on("zoom",P);m.call(g),m.call(u.value);let R=A=>{j.selectAll("path").data(A).join("path").attr("fill","#fcf9f2").attr("d",I).on("mouseenter",w).on("mouseleave",O).on("click",L)};function w(A,S){u.value.show.call(this,S)}function O(A,S){u.value.hide.call(this,S)}async function L(A,S){var $,V,f;if((($=S.properties)==null?void 0:$.level)!=="province")return;if(!((V=S.properties)!=null&&V.name)){console.log("没有此地图数据");return}let M=await et(Object.assign({"../assets/d3json/chinaMap/inside/上海市.json":()=>v(()=>import("./上海市-6d780ae2.js"),[]),"../assets/d3json/chinaMap/inside/云南省.json":()=>v(()=>import("./云南省-6224062d.js"),[]),"../assets/d3json/chinaMap/inside/内蒙古自治区.json":()=>v(()=>import("./内蒙古自治区-e898cbee.js"),[]),"../assets/d3json/chinaMap/inside/北京市.json":()=>v(()=>import("./北京市-2b5759b6.js"),[]),"../assets/d3json/chinaMap/inside/台湾省.json":()=>v(()=>import("./台湾省-2b3e1380.js"),[]),"../assets/d3json/chinaMap/inside/吉林省.json":()=>v(()=>import("./吉林省-9133cff2.js"),[]),"../assets/d3json/chinaMap/inside/四川省.json":()=>v(()=>import("./四川省-3d0b95f2.js"),[]),"../assets/d3json/chinaMap/inside/天津市.json":()=>v(()=>import("./天津市-d872474f.js"),[]),"../assets/d3json/chinaMap/inside/宁夏回族自治区.json":()=>v(()=>import("./宁夏回族自治区-0dda99d1.js"),[]),"../assets/d3json/chinaMap/inside/安徽省.json":()=>v(()=>import("./安徽省-84e8019f.js"),[]),"../assets/d3json/chinaMap/inside/山东省.json":()=>v(()=>import("./山东省-759af7a8.js"),[]),"../assets/d3json/chinaMap/inside/山西省.json":()=>v(()=>import("./山西省-1ec7b150.js"),[]),"../assets/d3json/chinaMap/inside/广东省.json":()=>v(()=>import("./广东省-da7c7ace.js"),[]),"../assets/d3json/chinaMap/inside/广西壮族自治区.json":()=>v(()=>import("./广西壮族自治区-2dfb6edd.js"),[]),"../assets/d3json/chinaMap/inside/新疆维吾尔自治区.json":()=>v(()=>import("./新疆维吾尔自治区-60872704.js"),[]),"../assets/d3json/chinaMap/inside/江苏省.json":()=>v(()=>import("./江苏省-b520be84.js"),[]),"../assets/d3json/chinaMap/inside/江西省.json":()=>v(()=>import("./江西省-082112da.js"),[]),"../assets/d3json/chinaMap/inside/河北省.json":()=>v(()=>import("./河北省-9ccda263.js"),[]),"../assets/d3json/chinaMap/inside/河南省.json":()=>v(()=>import("./河南省-e2b7aae3.js"),[]),"../assets/d3json/chinaMap/inside/浙江省.json":()=>v(()=>import("./浙江省-979075ff.js"),[]),"../assets/d3json/chinaMap/inside/海南省.json":()=>v(()=>import("./海南省-56384594.js"),[]),"../assets/d3json/chinaMap/inside/湖北省.json":()=>v(()=>import("./湖北省-72bb69da.js"),[]),"../assets/d3json/chinaMap/inside/湖南省.json":()=>v(()=>import("./湖南省-dff21ebf.js"),[]),"../assets/d3json/chinaMap/inside/澳门特别行政区.json":()=>v(()=>import("./澳门特别行政区-a87d8556.js"),[]),"../assets/d3json/chinaMap/inside/甘肃省.json":()=>v(()=>import("./甘肃省-14ef59b0.js"),[]),"../assets/d3json/chinaMap/inside/福建省.json":()=>v(()=>import("./福建省-458c03db.js"),[]),"../assets/d3json/chinaMap/inside/西藏自治区.json":()=>v(()=>import("./西藏自治区-e7cb2d34.js"),[]),"../assets/d3json/chinaMap/inside/贵州省.json":()=>v(()=>import("./贵州省-2ef826f6.js"),[]),"../assets/d3json/chinaMap/inside/辽宁省.json":()=>v(()=>import("./辽宁省-97a80b43.js"),[]),"../assets/d3json/chinaMap/inside/重庆市.json":()=>v(()=>import("./重庆市-26b27368.js"),[]),"../assets/d3json/chinaMap/inside/陕西省.json":()=>v(()=>import("./陕西省-a4dab91b.js"),[]),"../assets/d3json/chinaMap/inside/青海省.json":()=>v(()=>import("./青海省-632a2eca.js"),[]),"../assets/d3json/chinaMap/inside/香港特别行政区.json":()=>v(()=>import("./香港特别行政区-cfd024e3.js"),[]),"../assets/d3json/chinaMap/inside/黑龙江省.json":()=>v(()=>import("./黑龙江省-2777c126.js"),[])}),`../assets/d3json/chinaMap/inside/${(f=S.properties)==null?void 0:f.name}.json`),q=s(S.properties.adcode,M.default);q.length<1||R(q)}}),Jt(()=>{u.value.destroy()}),(d,p)=>(xt(),Kt(ti,{loading:$n(i),loadError:$n(e)},{default:Qt(()=>[bt("div",{ref_key:"chart",ref:t,class:"chart_box"},null,512)]),_:1},8,["loading","loadError"]))}});export{xi as default};
